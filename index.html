<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Магазин свечей</title>
</head>
<body>
<h2>Свеча "Shield of Egypt"</h2>
<p>Цена: 600 ₽</p>

<label>Количество:</label>
<input type="number" id="qty" value="1" min="1">

<br><br>
<label>Комментарий:</label>
<input type="text" id="comment" placeholder="Например: в подарок">

<br><br>
<button id="buy-btn">Купить</button>

<script>
  const tg = window.Telegram.WebApp;

  const buyBtn = document.getElementById('buy-btn');
  const qtyInput = document.getElementById('qty');
  const commentInput = document.getElementById('comment');

  buyBtn.addEventListener('click', () => {
    const orderData = {
      action: 'buy',
      product: 'Свеча Shield of Egypt',
      quantity: qtyInput.value,
      comment: commentInput.value,
      user_id: tg.initDataUnsafe.user?.id,
      username: tg.initDataUnsafe.user?.username
    };
    console.log("Отправляем заказ:", orderData);
    tg.sendData(JSON.stringify(orderData));
  });
</script>
</body>
</html>